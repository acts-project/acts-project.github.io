<!-- HTML header for doxygen 1.12.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACTS: Acts::GaussianTrackDensity Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script>
MathJax = {
  tex: {
    inlineMath: {'[+]': [['$', '$']]}
  },
};
</script>
<script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js">
</script>
<!-- <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
 -->
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="acts_logo_colored.svg"/></td>
  <td id="projectalign">
   <div id="projectname">ACTS
   </div>
   <div id="projectbrief">Experiment-independent tracking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_acts_1_1_gaussian_track_density.html','','class_acts_1_1_gaussian_track_density-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Acts::GaussianTrackDensity Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class to model tracks as 2D density functions based on their d0 and z0 perigee parameters (mean value) and covariance matrices (determining the width of the function).  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_gaussian_track_density_8hpp_source.html">Acts/Vertexing/GaussianTrackDensity.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:Config" id="r_Config"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_acts_1_1_gaussian_track_density_1_1_config.html">Config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Config struct.  <a href="struct_acts_1_1_gaussian_track_density_1_1_config.html#details">More...</a><br /></td></tr>
<tr class="memitem:State" id="r_State"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_acts_1_1_gaussian_track_density_1_1_state.html">State</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The State struct.  <a href="struct_acts_1_1_gaussian_track_density_1_1_state.html#details">More...</a><br /></td></tr>
<tr class="memitem:TrackEntry" id="r_TrackEntry"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_acts_1_1_gaussian_track_density_1_1_track_entry.html">TrackEntry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct to store information for a single track.  <a href="struct_acts_1_1_gaussian_track_density_1_1_track_entry.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0c4b8a4a7a5670dc175fce3c48fe1c27" id="r_a0c4b8a4a7a5670dc175fce3c48fe1c27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c4b8a4a7a5670dc175fce3c48fe1c27">GaussianTrackDensity</a> (const <a class="el" href="struct_acts_1_1_gaussian_track_density_1_1_config.html">Config</a> &amp;cfg)</td></tr>
<tr class="memdesc:a0c4b8a4a7a5670dc175fce3c48fe1c27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor with config.  <br /></td></tr>
<tr class="memitem:ab8794dc81a04000b09b2eac56873ef93" id="r_ab8794dc81a04000b09b2eac56873ef93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_acts_1_1_result.html">Result</a>&lt; std::optional&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8794dc81a04000b09b2eac56873ef93">globalMaximum</a> (<a class="el" href="struct_acts_1_1_gaussian_track_density_1_1_state.html">State</a> &amp;state, const std::vector&lt; <a class="el" href="struct_acts_1_1_input_track.html">InputTrack</a> &gt; &amp;trackList) const</td></tr>
<tr class="memdesc:ab8794dc81a04000b09b2eac56873ef93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the z position of the global maximum.  <br /></td></tr>
<tr class="memitem:aac656c631f00ce79884bd7e66de28e52" id="r_aac656c631f00ce79884bd7e66de28e52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_acts_1_1_result.html">Result</a>&lt; std::optional&lt; std::pair&lt; double, double &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac656c631f00ce79884bd7e66de28e52">globalMaximumWithWidth</a> (<a class="el" href="struct_acts_1_1_gaussian_track_density_1_1_state.html">State</a> &amp;state, const std::vector&lt; <a class="el" href="struct_acts_1_1_input_track.html">InputTrack</a> &gt; &amp;trackList) const</td></tr>
<tr class="memdesc:aac656c631f00ce79884bd7e66de28e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates z position of global maximum with Gaussian width for density function.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to model tracks as 2D density functions based on their d0 and z0 perigee parameters (mean value) and covariance matrices (determining the width of the function). </p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0c4b8a4a7a5670dc175fce3c48fe1c27" name="a0c4b8a4a7a5670dc175fce3c48fe1c27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c4b8a4a7a5670dc175fce3c48fe1c27">&#9670;&#160;</a></span>GaussianTrackDensity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Acts::GaussianTrackDensity::GaussianTrackDensity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_acts_1_1_gaussian_track_density_1_1_config.html">Config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cfg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor with config. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>The configuration parameters </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="ab8794dc81a04000b09b2eac56873ef93" name="ab8794dc81a04000b09b2eac56873ef93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8794dc81a04000b09b2eac56873ef93">&#9670;&#160;</a></span>globalMaximum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_acts_1_1_result.html">Result</a>&lt; std::optional&lt; double &gt; &gt; Acts::GaussianTrackDensity::globalMaximum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_acts_1_1_gaussian_track_density_1_1_state.html">State</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="struct_acts_1_1_input_track.html">InputTrack</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>trackList</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the z position of the global maximum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The track density state </td></tr>
    <tr><td class="paramname">trackList</td><td>All input tracks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>z position of the global maximum </dd></dl>

</div>
</div>
<a id="aac656c631f00ce79884bd7e66de28e52" name="aac656c631f00ce79884bd7e66de28e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac656c631f00ce79884bd7e66de28e52">&#9670;&#160;</a></span>globalMaximumWithWidth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_acts_1_1_result.html">Result</a>&lt; std::optional&lt; std::pair&lt; double, double &gt; &gt; &gt; Acts::GaussianTrackDensity::globalMaximumWithWidth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_acts_1_1_gaussian_track_density_1_1_state.html">State</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="struct_acts_1_1_input_track.html">InputTrack</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>trackList</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates z position of global maximum with Gaussian width for density function. </p>
<p>Strategy: The global maximum must be somewhere near a track. Since we can calculate the first and second derivatives, at each point we can determine a) whether the function is curved up (minimum) or down (maximum) b) the distance to nearest maximum, assuming either Newton (parabolic) or Gaussian local behavior. For each track where the second derivative is negative, find step to nearest maximum, take that step and then do one final refinement. The largest density encountered in this procedure (after checking all tracks) is considered the maximum.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The track density state </td></tr>
    <tr><td class="paramname">trackList</td><td>All input tracks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pair of position of global maximum and Gaussian width </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespace_acts.html">Acts</a></li><li class="navelem"><a href="class_acts_1_1_gaussian_track_density.html">GaussianTrackDensity</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
