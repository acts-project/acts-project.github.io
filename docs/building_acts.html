<!-- HTML header for doxygen 1.12.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACTS: Building ACTS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script>
MathJax = {
  tex: {
    inlineMath: {'[+]': [['$', '$']]}
  },
};
</script>
<script id="MathJax-script" async src="tex-mml-chtml.js"></script>
<!-- <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
 -->
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
</script>
<!-- ACTS Version Manager -->
<link href="acts-version-manager.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="acts-version-manager.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="acts_logo_colored.svg"/></td>
  <td id="projectalign">
   <div id="projectname">ACTS
   </div>
   <div id="projectbrief">Experiment-independent tracking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('building_acts.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Building ACTS </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="autotoc_md29"></a>
Quick start</h1>
<p>ACTS is developed in C++ and is built using <a href="https://cmake.org">CMake</a>. Building the core library requires a C++20 compatible compiler, <a href="https://www.boost.org">Boost</a>, and <a href="https://eigen.tuxfamily.org">Eigen</a>. The following commands will clone the repository, configure, and build the core library:</p>
<div class="fragment"><div class="line">git clone https://github.com/acts-project/acts &lt;source&gt;</div>
<div class="line">cmake -B &lt;build&gt; -S &lt;source&gt;</div>
<div class="line">cmake --build &lt;build&gt;</div>
</div><!-- fragment --><p>For a full list of dependencies, including specific versions, see the <a class="el" href="#prerequisites">Prerequisites</a> section below. Build options to activate additional components are described in the <a class="el" href="#build-options">Build options</a> section.</p>
<h1 class="doxsection"><a class="anchor" id="prerequisites"></a>
Prerequisites</h1>
<p>The following dependencies are required to build the ACTS core library:</p>
<ul>
<li>A C++20 compatible compiler (recent versions of either gcc and clang should work)</li>
<li><a href="https://cmake.org">CMake</a> &gt;= 3.14</li>
<li><a href="https://www.boost.org">Boost</a> &gt;= 1.71 with <span class="tt">filesystem</span>, <span class="tt">program_options</span>, and <span class="tt">unit_test_framework</span></li>
<li><a href="https://eigen.tuxfamily.org">Eigen</a> &gt;= 3.3.7</li>
</ul>
<p>The following dependencies are optional and are needed to build additional components:</p>
<ul>
<li><a href="https://developer.nvidia.com/cuda-zone">CUDA</a> for the CUDA plugin and the GNN plugin and its examples</li>
<li><a href="http://dd4hep.cern.ch">DD4hep</a> &gt;= 1.11 for the DD4hep plugin and some examples</li>
<li><a href="http://doxygen.org">Doxygen</a> &gt;= 1.8.15 for the documentation</li>
<li><a href="https://geant4.org/">Geant4</a> for some examples</li>
<li><a href="https://gitlab.cern.ch/hepmc/HepMC3">HepMC</a> &gt;= 3.2.1 for some examples</li>
<li><a href="https://github.com/oneapi-src/oneTBB">Intel Threading Building Blocks</a> &gt;= 2020.1 for the examples</li>
<li><a href="https://onnxruntime.ai/">ONNX Runtime</a> &gt;= 1.12.0 for the ONNX plugin, the GNN plugin and some examples</li>
<li><a href="https://pythia.org">Pythia8</a> for some examples</li>
<li><a href="https://root.cern.ch">ROOT</a> &gt;= 6.20 for the ROOT plugin and the examples</li>
<li><a href="https://www.sphinx-doc.org">Sphinx</a> &gt;= 2.0 with <a href="https://breathe.readthedocs.io/en/latest/">Breathe</a>, <a href="https://exhale.readthedocs.io/en/latest/">Exhale</a>, and <a href="https://recommonmark.readthedocs.io/en/latest/index.html">recommonmark</a> extensions for the documentation</li>
<li><a href="https://pytorch.org/cppdocs/installing.html">libtorch</a> for the GNN plugin</li>
<li><a href="https://github.com/pybind/pybind11">Pybind11</a> for the Python bindings of the examples</li>
<li><a href="http://fastjet.fr/">FastJet</a> &gt;= 3.4.0 for the FastJet plugin</li>
</ul>
<p>There are some additional dependencies that are automatically provided as part of the build system. These are usually not available through the system package manager and can be found in the <span class="tt">thirdparty</span> directory.</p>
<p>All external dependencies must be provided prior to building ACTS. Compatible versions of all dependencies are provided e.g. by the <a href="https://lcginfo.cern.ch/">LCG releases</a> starting from <a href="https://lcginfo.cern.ch/release/102b/">LCG 102b</a>. For convenience, it is possible to build the required boost and eigen3 dependencies using the ACTS build system; see <a class="el" href="#build-options">Build options</a>. Other options are also available and are discussed in the <a class="el" href="#building-acts">Building ACTS</a> section.</p>
<p><a class="el" href="howto_profiling.html">Profiling</a> details the prerequisites for profiling the ACTS project with gperftools.</p>
<h1 class="doxsection"><a class="anchor" id="building-acts"></a>
Building ACTS</h1>
<p>ACTS uses <a href="https://cmake.org">CMake</a> to configure, build, and install the software. After checking out the repository code into a <span class="tt">&lt;source&gt;</span> directory, CMake is called first to configure the build into a separate <span class="tt">&lt;build&gt;</span> directory. A typical setup is to create a <span class="tt">&lt;source&gt;/build</span> directory within the sources, but this is just a convention; not a requirement. The following command runs the configuration and searches for the dependencies. The <span class="tt">&lt;build&gt;</span> directory is automatically created.</p>
<div class="fragment"><div class="line">cmake -B &lt;build&gt; -S &lt;source&gt;</div>
</div><!-- fragment --><p>The build can be configured via various options that are listed in detail in the <a class="el" href="#build-options">Build options</a> section. Options are set on the command line. The previous command could be e.g. modified to</p>
<div class="fragment"><div class="line">cmake -B &lt;build&gt; -S &lt;source&gt; -DACTS_BUILD_UNITTESTS=on -DACTS_BUILD_FATRAS=on</div>
</div><!-- fragment --><p>After the configuration succeeded, the software is build. This is also done with cmake via the following command</p>
<div class="fragment"><div class="line">cmake --build &lt;build&gt;</div>
</div><!-- fragment --><p>This automatically calls the configure build tool, e.g. Make or Ninja. To build only a specific target, the target names has to be separated from the CMake options by <span class="tt">--</span>, i.e.</p>
<div class="fragment"><div class="line">cmake --build &lt;build&gt; -- ActsFatras # to build the Fatras library</div>
</div><!-- fragment --><p>The build commands are the same regardless of where you are building the software. Depending on your build environment, there are different ways how to make the dependencies available.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md30"></a>
With a LCG release on CVMFS</h2>
<p>If you have access to a machine running <a href="https://cernvm.cern.ch/fs/">CVMFS</a>, e.g. CERNs lxplus login machines, the dependencies can be easily satisfied via an LCG releases available through CVMFS. Source the cvmfs setup script provided by the machine. It is suggested to select a recent <span class="tt">&lt;lcg_release&gt;</span> and <span class="tt">&lt;lcg_platform&gt;</span> combination. (Have a look at the CI jobs to get an overview on what we are currently testing):</p>
<div class="fragment"><div class="line">source /cvmfs/sft.cern.ch/lcg/views/&lt;lcg_release&gt;/&lt;lcg_platform&gt;/setup.sh</div>
</div><!-- fragment --><p>After sourcing the setup script, you can build ACTS as described above.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md31"></a>
In a container</h2>
<p>A set of container images is available through the <a href="https://github.com/acts-project/ci-dependencies/pkgs/container/spack-container">ACTS container registry</a>. These images are built using the configuration that is used in CI, and they contain all the dependencies required to build ACTS.</p>
<dl class="section note"><dt>Note</dt><dd>Most containers are only build for the <span class="tt">x86_64</span> platform. If you are on an <span class="tt">aarch64</span> (such as a recent Mac), you'll need to use the <span class="tt">ubuntu2404</span> container, which is built for <span class="tt">aarch64</span> and <span class="tt">x86_64</span>!</dd></dl>
<p>Furthermore, we are also testing on, but do not provide the corresponding containers:</p>
<ul>
<li><span class="tt">alma9</span> (HEP-specific software from LCG 106 or 107 and various clang versions)</li>
<li><span class="tt">macOS-10.15</span></li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>We stopped producing fully-contained LCG containers in favor of running LCG based tests directly from CVMFS.</dd></dl>
<p>To use these locally, you first need to pull the relevant images from the registry. Stable versions are tagged as <span class="tt">vX</span> where <span class="tt">X</span> is the version number. The latest, potentially unstable, version is tagged as <span class="tt">latest</span>. To list all available tags, e.g. for the <span class="tt">ubuntu2004</span> image, you can use the following command:</p>
<div class="fragment"><div class="line">docker search --list-tags ghcr.io/acts-project/ubuntu2404</div>
</div><!-- fragment --><p>The following command then downloads a stable tag of the <span class="tt">ubuntu2404</span> image:</p>
<div class="fragment"><div class="line">docker pull ghcr.io/acts-project/ubuntu2404:51</div>
</div><!-- fragment --><p>This should print the image id as part of the output. You can also find out the image id by running <span class="tt">docker images</span> to list all your locally available container images.</p>
<p>Now, you need to start a shell within the container to run the build. Assuming that <span class="tt">&lt;source&gt;</span> is the path to your source checkout on your host machine, the following command will make the source directory available as <span class="tt">/acts</span> in the container and start an interactive <span class="tt">bash</span> shell</p>
<div class="fragment"><div class="line">docker run --volume=&lt;source&gt;:/acts:ro --interactive --tty &lt;image&gt; /bin/bash</div>
</div><!-- fragment --><p>where <span class="tt">&lt;image&gt;</span> is the image id that was previously mentioned. If you are using the Ubuntu-based image you are already good to go. For the images based on LCG releases, you can now activate the LCG release in the container shell by sourcing a setup script:</p>
<div class="fragment"><div class="line">container $ source /opt/lcg_view/setup.sh</div>
</div><!-- fragment --><p>Building ACTS follows the instructions above with <span class="tt">/acts</span> as the source directory, e.g.</p>
<div class="fragment"><div class="line">container $ cmake -B build -S /acts -DACTS_BUILD_FATRAS=on</div>
<div class="line">container $ cmake --build build</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md32"></a>
On your local machine</h2>
<p>Building and running ACTS on your local machine is not officially supported. However, if you have the necessary prerequisites installed it is possible to use it locally. ACTS developers regularly use different Linux distributions and macOS to build and develop ACTS. It is possible to use Spack to more easily install ACTS' dependencies; see the <a class="el" href="howto_spack.html">building with Spack</a> page for more information.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md33"></a>
Building the documentation</h1>
<p>The documentation uses <a href="https://doxygen.nl/">Doxygen</a> to extract the source code documentation and <a href="https://www.sphinx-doc.org">Sphinx</a> with the <a href="https://breathe.readthedocs.io">Breathe</a> extension to generate the documentation website. To build the documentation locally, you need to have <a href="https://doxygen.nl/">Doxygen</a> version <span class="tt">1.9.5</span> or newer installed. <a href="https://www.sphinx-doc.org">Sphinx</a> and a few other dependencies can be installed using the Python package manager <span class="tt">pip</span>:</p>
<div class="fragment"><div class="line">cd &lt;source&gt;</div>
<div class="line">pip install -r docs/requirements.txt</div>
</div><!-- fragment --><dl class="section remark"><dt>Remarks</dt><dd>It is <b>strongly recommended</b> to use a <a href="https://realpython.com/python-virtual-environments-a-primer/">virtual &gt;environment</a> for &gt;this purpose! For example, run <br  />
<br  />
 <div class="fragment"><div class="line">python -m venv docvenv</div>
<div class="line">source docvenv/bin/activate</div>
</div><!-- fragment --> <br  />
<br  />
 to create a local virtual environment, and then run the <span class="tt">pip</span> command above.</dd></dl>
<p>To activate the documentation build targets, the <span class="tt">ACTS_BUILD_DOCS</span> option has to be set</p>
<div class="fragment"><div class="line">cmake -B &lt;build&gt; -S &lt;source&gt; -DACTS_BUILD_DOCS=on</div>
</div><!-- fragment --><p>Then the documentation can be build with this target</p>
<div class="fragment"><div class="line">cmake --build &lt;build&gt; --target docs</div>
</div><!-- fragment --><p>The default option includes the Doxygen, Sphinx, and the Breathe extension, i.e. the source code information can be used in the manually written documentation. An attempt is made to pull in symbols that are cross-referenced from other parts of the documentation. This is not guaranteed to work: in case of errors you will need to manually pull in symbols to be documented.</p>
<h1 class="doxsection"><a class="anchor" id="build-options"></a>
Build options</h1>
<p>CMake options can be set by adding <span class="tt">-D&lt;OPTION&gt;=&lt;VALUE&gt;</span> to the configuration command. The following command would e.g. enable the unit tests</p>
<div class="fragment"><div class="line">cmake -B &lt;build&gt; -S &lt;source&gt; -DACTS_BUILD_UNITTESTS=ON</div>
</div><!-- fragment --><p>Multiple options can be given. <span class="tt">cmake</span> caches the options so that only changed options must be specified in subsequent calls to configure the project. The following options are available to configure the project and enable optional components.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_PARAMETER_DEFINITIONS_HEADER  </td><td class="markdownTableBodyNone">Use a different (track) parameter<br  />
definitions header<br  />
 type: <span class="tt">filepath</span>, default: <span class="tt">""</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_SOURCELINK_SBO_SIZE  </td><td class="markdownTableBodyNone">Customize the SBO size used by<br  />
SourceLink<br  />
 type: <span class="tt">string</span>, default: <span class="tt">""</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_FORCE_ASSERTIONS  </td><td class="markdownTableBodyNone">Force assertions regardless of build<br  />
type<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_USE_SYSTEM_LIBS  </td><td class="markdownTableBodyNone">Use system libraries by default<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_USE_SYSTEM_ACTSVG  </td><td class="markdownTableBodyNone">Use the ActSVG system library<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ACTS_USE_SYSTEM_LIBS -&gt; OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_USE_SYSTEM_ALGEBRAPLUGINS  </td><td class="markdownTableBodyNone">Use a system-provided algebra-plugins<br  />
installation<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ACTS_USE_SYSTEM_LIBS -&gt; OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_SETUP_ALGEBRAPLUGINS  </td><td class="markdownTableBodyNone">If we want to setup algebra-plugins<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ON</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_USE_SYSTEM_COVFIE  </td><td class="markdownTableBodyNone">Use a system-provided covfie<br  />
installation<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ACTS_USE_SYSTEM_LIBS -&gt; OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_SETUP_COVFIE  </td><td class="markdownTableBodyNone">If we want to setup covfie<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ON</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_USE_SYSTEM_DETRAY  </td><td class="markdownTableBodyNone">Use a system-provided detray<br  />
installation<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ACTS_USE_SYSTEM_LIBS -&gt; OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_SETUP_DETRAY  </td><td class="markdownTableBodyNone">If we want to setup detray<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ON</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_USE_SYSTEM_VECMEM  </td><td class="markdownTableBodyNone">Use a system-provided vecmem<br  />
installation<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ACTS_USE_SYSTEM_LIBS -&gt; OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_SETUP_VECMEM  </td><td class="markdownTableBodyNone">If we want to setup vecmem<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ON</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_USE_SYSTEM_TRACCC  </td><td class="markdownTableBodyNone">Use a system-provided traccc<br  />
installation<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ACTS_USE_SYSTEM_LIBS -&gt; OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_USE_SYSTEM_NLOHMANN_JSON  </td><td class="markdownTableBodyNone">Use nlohmann::json provided by the<br  />
system instead of the bundled version<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ACTS_USE_SYSTEM_LIBS -&gt; OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_USE_SYSTEM_PYBIND11  </td><td class="markdownTableBodyNone">Use a system installation of pybind11<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ACTS_USE_SYSTEM_LIBS -&gt; OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_USE_SYSTEM_MODULEMAPGRAPH  </td><td class="markdownTableBodyNone">Use a system installation of<br  />
ModuleMapGraph<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ACTS_USE_SYSTEM_LIBS -&gt; OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_USE_SYSTEM_EIGEN3  </td><td class="markdownTableBodyNone">Use a system-provided eigen3<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ON</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_ACTSVG  </td><td class="markdownTableBodyNone">Build SVG display plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_DD4HEP  </td><td class="markdownTableBodyNone">Build DD4hep plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_EDM4HEP  </td><td class="markdownTableBodyNone">Build EDM4hep plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_FPEMON  </td><td class="markdownTableBodyNone">Build FPE monitoring plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_FASTJET  </td><td class="markdownTableBodyNone">Build FastJet plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_GEOMODEL  </td><td class="markdownTableBodyNone">Build GeoModel plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_TRACCC  </td><td class="markdownTableBodyNone">Build Traccc plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_GEANT4  </td><td class="markdownTableBodyNone">Build Geant4 plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_GNN  </td><td class="markdownTableBodyNone">Build the GNN plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_GNN_ENABLE_ONNX  </td><td class="markdownTableBodyNone">Build the Onnx backend for the gnn<br  />
plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_GNN_ENABLE_TORCH  </td><td class="markdownTableBodyNone">Build the torchscript backend for the<br  />
gnn plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ON</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_GNN_ENABLE_CUDA  </td><td class="markdownTableBodyNone">Enable CUDA for the gnn plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_GNN_ENABLE_MODULEMAP  </td><td class="markdownTableBodyNone">Enable Module-Map-based graph<br  />
construction<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_GNN_ENABLE_TENSORRT  </td><td class="markdownTableBodyNone">Enable the native TensorRT inference<br  />
modules<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_JSON  </td><td class="markdownTableBodyNone">Build json plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_ONNX  </td><td class="markdownTableBodyNone">Build ONNX plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_ROOT  </td><td class="markdownTableBodyNone">Build ROOT plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_SETUP_ANNOY  </td><td class="markdownTableBodyNone">Explicitly set up Annoy for the project<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_PLUGIN_HASHING  </td><td class="markdownTableBodyNone">Build Hashing plugin<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_PYTHON_WHEEL  </td><td class="markdownTableBodyNone">Settings to build for python deployment<br  />
with scikit-build-core<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_PYTHON_BINDINGS  </td><td class="markdownTableBodyNone">Build python bindings for all enabled<br  />
components<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_FATRAS  </td><td class="markdownTableBodyNone">Build FAst TRAcking Simulation package<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_FATRAS_GEANT4  </td><td class="markdownTableBodyNone">Build Geant4 Fatras package<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_ALIGNMENT  </td><td class="markdownTableBodyNone">Build Alignment package<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_EXAMPLES  </td><td class="markdownTableBodyNone">Build basic examples components<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_EXAMPLES_DD4HEP  </td><td class="markdownTableBodyNone">Build DD4hep-based code in the examples<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_EXAMPLES_EDM4HEP  </td><td class="markdownTableBodyNone">Build EDM4hep-based code in the examples<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_EXAMPLES_PODIO  </td><td class="markdownTableBodyNone">Build Podio-based code in the examples<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_EXAMPLES_GNN  </td><td class="markdownTableBodyNone">Build the GNN example code<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_EXAMPLES_GEANT4  </td><td class="markdownTableBodyNone">Build Geant4-based code in the examples<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_EXAMPLES_HASHING  </td><td class="markdownTableBodyNone">Build Hashing-based code in the examples<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_EXAMPLES_PYTHIA8  </td><td class="markdownTableBodyNone">Build Pythia8-based code in the examples<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_EXAMPLES_PYTHON_BINDINGS  </td><td class="markdownTableBodyNone">[Deprecated] Build python bindings and<br  />
enables the examples<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_EXAMPLES_ROOT  </td><td class="markdownTableBodyNone">Build modules based on ROOT I/O<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ON</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_ANALYSIS_APPS  </td><td class="markdownTableBodyNone">Build Analysis applications in the<br  />
examples<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_BENCHMARKS  </td><td class="markdownTableBodyNone">Build benchmarks<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_INTEGRATIONTESTS  </td><td class="markdownTableBodyNone">Build integration tests<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_UNITTESTS  </td><td class="markdownTableBodyNone">Build unit tests<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_EXAMPLES_UNITTESTS  </td><td class="markdownTableBodyNone">Build unit tests<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ACTS_BUILD_UNITTESTS AND ACTS_BUILD_EXAMPLES</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_RUN_CLANG_TIDY  </td><td class="markdownTableBodyNone">Run clang-tidy static analysis<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_BUILD_DOCS  </td><td class="markdownTableBodyNone">Build documentation<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_SETUP_BOOST  </td><td class="markdownTableBodyNone">Explicitly set up Boost for the project<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ON</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_SETUP_EIGEN3  </td><td class="markdownTableBodyNone">Explicitly set up Eigen3 for the project<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ON</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_BUILD_ODD  </td><td class="markdownTableBodyNone">Build the OpenDataDetector<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_ENABLE_CPU_PROFILING  </td><td class="markdownTableBodyNone">Enable CPU profiling using gperftools<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_ENABLE_MEMORY_PROFILING  </td><td class="markdownTableBodyNone">Enable memory profiling using gperftools<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_GPERF_INSTALL_DIR  </td><td class="markdownTableBodyNone">Hint to help find gperf if profiling is<br  />
enabled<br  />
 type: <span class="tt">string</span>, default: <span class="tt">""</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_ENABLE_LOG_FAILURE_THRESHOLD  </td><td class="markdownTableBodyNone">Enable failing on log messages with<br  />
level above certain threshold<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">OFF</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ACTS_LOG_FAILURE_THRESHOLD  </td><td class="markdownTableBodyNone">Log level above which an exception<br  />
should be automatically thrown. If<br  />
ACTS_ENABLE_LOG_FAILURE_THRESHOLD is set<br  />
and this is unset, this will enable a<br  />
runtime check of the log level.<br  />
 type: <span class="tt">string</span>, default: <span class="tt">""</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACTS_COMPILE_HEADERS  </td><td class="markdownTableBodyNone">Generate targets to compile header files<br  />
 type: <span class="tt">bool</span>, default: <span class="tt">ON</span>  </td></tr>
</table>
<p>All ACTS-specific options are disabled or empty by default and must be specifically requested.</p>
<p>ACTS comes with a couple of CMakePresets which allow to collect and origanize common configuration workflows. On the surface the current list of presets contains:</p>
<ul>
<li><span class="tt">dev</span> as a base for developer configurations. This enables everything necessary for running the ODD full chain examples with Fatras. It sets the cpp standard to 20, the generator to ninja and enables ccache.</li>
<li><span class="tt">perf</span> is similar to <span class="tt">dev</span> but tweaked for performance measurements.</li>
</ul>
<p>In addition to the ACTS-specific options, many generic options are available that modify various aspects of the build. The following options are some of the most common ones. For more details, have a look at the annotated list of <a href="https://gitlab.kitware.com/cmake/community/-/wikis/doc/cmake/Useful-Variables">useful CMake variables</a> or at the <a href="https://cmake.org/documentation/">CMake documentation</a>.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CMAKE_BUILD_TYPE  </td><td class="markdownTableBodyNone">Build type, e.g. Debug or Release; affects compiler flags <br  />
 (if not specified <b><span class="tt">RelWithDebInfo</span></b> will be used as a default)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">CMAKE_CXX_COMPILER  </td><td class="markdownTableBodyNone">Which C++ compiler to use, e.g. g++ or clang++  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CMAKE_INSTALL_PREFIX  </td><td class="markdownTableBodyNone">Where to install ACTS to  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">CMAKE_PREFIX_PATH  </td><td class="markdownTableBodyNone">Search path for external packages  </td></tr>
</table>
<p>The build is also affected by some environment variables. They can be set by prepending them to the configuration call:</p>
<div class="fragment"><div class="line">DD4hep_DIR=&lt;path/to/dd4hep&gt; cmake -B &lt;build&gt; -S &lt;source&gt;</div>
</div><!-- fragment --><p>The following environment variables might be useful.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Environment variable  </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DD4hep_DIR  </td><td class="markdownTableBodyNone">Search path for the DD4hep installation  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">HepMC3_DIR  </td><td class="markdownTableBodyNone">Search path for the HepMC3 installation  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Pythia8_DIR  </td><td class="markdownTableBodyNone">Search path for the Pythia8 installation  </td></tr>
</table>
<dl class="section remark"><dt>Remarks</dt><dd>Even though these individual environment variables can be used to make CMake locate dependency, it is usually preferable to use <span class="tt">CMAKE_PREFIX_PATH</span> to point to the root installation directory of the dependencies.</dd></dl>
<h1 class="doxsection"><a class="anchor" id="autotoc_md34"></a>
The OpenDataDetector</h1>
<p>ACTS comes packaged with a detector modeled using DD4hep that can be used to test your algorithms. It comes equipped with a magnetic field file as well as an already built material map. When configuring with <span class="tt">ACTS_BUILD_ODD=ON</span>, the detector is fetched automatically via CMake's <span class="tt">ExternalProject_Add</span>. This step requires network access during the first build to clone the upstream repository.</p>
<p>To use it, build ACTS with the <span class="tt">ACTS_BUILD_ODD</span> option and then point either <span class="tt">LD_LIBRARY_PATH</span> on Linux or <span class="tt">DYLD_LIBRARY_PATH</span> and <span class="tt">DD4HEP_LIBRARY_PATH</span> on macOS to the install path of the ODD factory (for example: <span class="tt">$ODD_BUILD_DIR/factory</span>). The setup scripts generated by the build do this automatically when present.</p>
<p>You can now use the ODD in the python binding by using:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> acts.root</div>
<div class="line"><span class="keyword">from</span> acts.examples.odd <span class="keyword">import</span> getOpenDataDetectorDirectory, getOpenDataDetector</div>
<div class="line"> </div>
<div class="line">odd_dir = getOpenDataDetectorDirectory()</div>
<div class="line">materialDecorator = acts.root.RootMaterialDecorator(</div>
<div class="line">    fileName=str(odd_dir / <span class="stringliteral">&quot;data/odd-material-maps.root&quot;</span>),</div>
<div class="line">    level=acts.logging.INFO,</div>
<div class="line">)</div>
<div class="line">detector = getOpenDataDetector(materialDecorator=materialDecorator)</div>
<div class="line">trackingGeometry = detector.trackingGeometry()</div>
<div class="line">decorators = detector.contextDecorators()</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md35"></a>
Using ACTS in downstream code</h1>
<p>When using ACTS in your own CMake-based project, you need to include the following lines in your <span class="tt">CMakeLists.txt</span> file:</p>
<div class="fragment"><div class="line">find_package (Acts COMPONENTS comp1 comp2 ...)</div>
</div><!-- fragment --><p>where <span class="tt">compX</span> are the required components from the ACTS project. See the <span class="tt">cmake</span> output for more information about which components are available. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
