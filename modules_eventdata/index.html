<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Event Data - Acts</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">Acts</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../authors/">Authors</a>
</li>
                                    
<li >
    <a href="../license/">License</a>
</li>
                                    
<li >
    <a href="http://acts.web.cern.ch/ACTS/latest/doc/index.html">Documentation</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../modules_geometry/">Geometry</a>
</li>
                                    
<li class="active">
    <a href="./">Event Data</a>
</li>
                                    
<li >
    <a href="../modules_propagation/">Propagation</a>
</li>
                                    
<li >
    <a href="../modules_pattern/">Pattern Recognition</a>
</li>
                                    
<li >
    <a href="../modules_fitting/">Track fitting</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Guides <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../guides_users/">Users Guide</a>
</li>
                                    
<li >
    <a href="../guides_developers/">Developers Guide</a>
</li>
                                    
<li >
    <a href="../guides_contribution/">Contribution Guide</a>
</li>
                                    
<li >
    <a href="../guides_framework/">Framework Examples Guide</a>
</li>
                                    
<li >
    <a href="../guides_testing/">CI and Testing Guide</a>
</li>
                                    
<li >
    <a href="../guides_admin/">Administrators Guide</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Clients <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../integration/">Integration</a>
</li>
                                    
<li >
    <a href="../integration_atlas/">Integration in ATLAS</a>
</li>
                                    
<li >
    <a href="../integration_fcc/">Integration in FCCSW</a>
</li>
                                    
<li >
    <a href="../integration_trackml/">Tracking Machine Learning Challenge</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li>
                                <a href="https://gitlab.cern.ch/acts/acts-core"><i class="fa fa-gitlab"></i> GitLab</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#event-data">Event Data</a></li>
            <li><a href="#track-parameterisation">Track parameterisation</a></li>
            <li><a href="#measurements">Measurements</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>
  This website is <strong>outdated!</strong>. ACTS documentation has moved to ReadTheDocs at:<br>
  <strong><a href="https://acts.readthedocs.io">acts.readthedocs.io</a>
</p>
</div>


<h1 id="event-data">Event Data</h1>
<h2 id="track-parameterisation">Track parameterisation</h2>
<p>A trajectory in a magnetic field is generally parameterised by a set of at least five parameters (when being bound to a surface). Two different categories are used in Acts: so-called bound parameters, i.e. parameter bound to a surface and curvilinear parameters. Curvilinear parameters are defined in an implicit planar and normal (to the track) reference plane that follows the track. The center of the implicitely defined plane is at the current track position, while the normal vector points along the momentum direction. Per definition the local parameters of a curvilinear parameterisation are thus fixed to (0,0).</p>
<p>In Acts the parameterisation is can be changed, provided the according transformations into global coordinates are given, it can be changed by adapting the relevant <code>coordinate_transformation</code> definition. This shows an excerpt of the default implementation:</p>
<pre><code class="cpp">namespace Acts {
namespace detail {
  /**
   * @brief helper structure summarizing coordinate transformations
   */
  struct coordinate_transformation
  {
    typedef ActsVector&lt;ParValue_t, Acts::NGlobalPars&gt; ParVector_t;

    static ActsVectorD&lt;3&gt;
    parameters2globalPosition(const ParVector_t&amp; pars, const Surface&amp; s)
    {
      ActsVectorD&lt;3&gt; globalPosition;
      s.localToGlobal(ActsVectorD&lt;2&gt;(pars(Acts::eLOC_0), pars(Acts::eLOC_1)),
                      parameters2globalMomentum(pars),
                      globalPosition);
      return globalPosition;
    }

    static ActsVectorD&lt;3&gt;
    parameters2globalMomentum(const ParVector_t&amp; pars)
    {
      ActsVectorD&lt;3&gt; momentum;
      double         p     = std::abs(1. / pars(Acts::eQOP));
      double         phi   = pars(Acts::ePHI);
      double         theta = pars(Acts::eTHETA);
      momentum &lt;&lt; p * sin(theta) * cos(phi), p * sin(theta) * sin(phi),
          p * cos(theta);

      return momentum;
    }

    static ParVector_t
    global2curvilinear(const ActsVectorD&lt;3&gt;&amp;,
                       const ActsVectorD&lt;3&gt;&amp; mom,
                       double                charge)
    {
      ParVector_t parameters;
      parameters &lt;&lt; 0, 0, mom.phi(), mom.theta(),
          ((std::abs(charge) &lt; 1e-4) ? 1. : charge) / mom.mag();

      return parameters;
    }
  // ...
  };
} // end of namespace detail
} // end of namespace Acts
</code></pre>

<p>The default parameterisation is chosen to be the ATLAS parameterisation:</p>
<pre><code class="cpp">namespace Acts {
enum ParDef : unsigned int {
  eLOC_0    = 0,  ///&lt; first coordinate in local surface frame
  eLOC_1    = 1,  ///&lt; second coordinate in local surface frame
  eLOC_R    = eLOC_0,
  eLOC_PHI  = eLOC_1,
  eLOC_RPHI = eLOC_0,
  eLOC_Z    = eLOC_1,
  eLOC_X    = eLOC_0,
  eLOC_Y    = eLOC_1,
  eLOC_D0   = eLOC_0,
  eLOC_Z0   = eLOC_1,
  ePHI      = 2,  ///&lt; phi direction of momentum in global frame
  eTHETA    = 3,  ///&lt; theta direction of momentum in global frame
  eQOP = 4,  ///&lt; charge/momentum for charged tracks, for neutral tracks it is
             /// 1/momentum
  NGlobalPars
};
</code></pre>

<p>Changing the default parameter definition and transformation needs recompilation of the Acts Software and redefinition of 
the relevant Plugin:</p>
<pre><code class="cpp">target_compile_definitions (Acts::Core PUBLIC -DACTS_PARAMETER_DEFINITIONS_PLUGIN=&quot;${ACTS_PARAMETER_DEFINITIONS_PLUGIN}&quot;)
</code></pre>

<h3 id="neutral-and-charged-representations">Neutral and charged representations</h3>
<p>Track parameters come in a charged and neutral flavor, the flavor is defined using a template parameter,
which either is a <code>ChargedPolicy</code> class for charged track parameter representation:</p>
<pre><code class="cpp">namespace Acts {
    typedef SingleTrackParameters&lt;ChargedPolicy&gt;            TrackParameters;
    typedef SingleCurvilinearTrackParameters&lt;ChargedPolicy&gt; CurvilinearParameters;
    typedef SingleBoundTrackParameters&lt;ChargedPolicy&gt;       BoundParameters;
}  // end of namespace Acts
</code></pre>

<p>Or, respectively, a <code>NeutralPolicy</code> object</p>
<pre><code class="cpp">namespace Acts {
    typedef SingleTrackParameters&lt;NeutralPolicy&gt; NeutralParameters;
    typedef SingleCurvilinearTrackParameters&lt;NeutralPolicy&gt;
                                              NeutralCurvilinearParameters;
    typedef SingleBoundTrackParameters&lt;NeutralPolicy&gt; NeutralBoundParameters;
} // end of namespace Acts  
</code></pre>

<h3 id="multivariant-representation">Multivariant representation</h3>
<p>Multivariant fitters, such as the Gaussian Sum filter rely on a multi-component description of the track, which requires the definition of multivariant track paramters. For Acts, as Propagator and Extrapolator are written for type templates, a multivariant definition of track parameterisation is <em>planned</em> in order to integrate directly with the core software.</p>
<h2 id="measurements">Measurements</h2>
<p>Measurements exist as <em>uncalibrated</em> and <em>calibrated</em> types. While <em>uncalibrated</em> measurements are the direct output of the data formation, during the track fit, when trajectory information (or information about the trajectory hypothesis) is available, certain calibration steps can help to improve the track fit quality.</p>
<h3 id="uncalibrated-measurements">Uncalibrated measurements</h3>
<p>Measurements in a detector can be one to many-dimensional (covering the full range up to the full track parameterisation).</p>
<pre><code class="cpp">template &lt;typename Identifier, ParID_t... params&gt;
class Measurement
{
  // check type conditions
  static_assert(std::is_copy_constructible&lt;Identifier&gt;::value,
                &quot;'Identifier' must be copy-constructible&quot;);
  static_assert(std::is_move_constructible&lt;Identifier&gt;::value,
                &quot;'Identifier' must be move-constructible&quot;);
  static_assert(std::is_copy_assignable&lt;Identifier&gt;::value,
                &quot;'Identifier' must be copy-assignable&quot;);
  static_assert(std::is_move_assignable&lt;Identifier&gt;::value,
                &quot;'Identifier' must be move-assignable&quot;);

private:
  // private typedef's
  typedef ParameterSet&lt;params...&gt;
      ParSet_t;  ///&lt; type of the underlying ParameterSet object
// ...
};
</code></pre>

<p>In order to minimise the computational cost (and differently from the original ATLAS code base), the dimension of the
measurement has to be fixed at compile time.          </p>
<h3 id="calibrated-measurements">Calibrated measurements</h3>
<p>Calibrated measurements are temporary objects needed for track fitting and belonging to a track.
<em>Still to be defined</em></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/contrib/auto-render.min.js" defer></script>
        <script src="../katex-enable.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
